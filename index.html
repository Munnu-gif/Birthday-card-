<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday ‚Äî Interactive Card</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#ff6b6b;--muted:#9aa5b1}
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans',sans-serif;background:linear-gradient(180deg,#071029 0%, #071b2f 60%);color:#eef2ff}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:980px;max-width:98%;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:18px;box-shadow:0 20px 50px rgba(2,6,23,0.7);overflow:hidden;position:relative}
    header{padding:28px 32px;display:flex;gap:16px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ffd166);display:flex;align-items:center;justify-content:center;font-weight:700;color:#071029}
    .title{flex:1}
    .title h1{margin:0;font-size:20px}
    .title p{margin:2px 0 0;font-size:13px;color:var(--muted)}.body{display:grid;grid-template-columns:1fr 420px;gap:18px;padding:18px}
@media (max-width:1000px){.body{grid-template-columns:1fr}}

/* left column */
.left{padding:22px}
.input-row{display:flex;gap:10px;align-items:center}
input[name=name]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;font-size:16px}
button#start{padding:11px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#ff9f43);color:#071029;font-weight:600;cursor:pointer}

.greeting{margin-top:18px;min-height:120px;display:flex;align-items:center;justify-content:center}
.greet-text{font-size:34px;font-weight:800;letter-spacing:0.6px;text-align:center}
.sub{margin-top:8px;color:var(--muted);text-align:center}

/* romantic text */
.wish{margin-top:22px;padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.015));border:1px solid rgba(255,255,255,0.03)}
.wish p{margin:0;font-size:15px;line-height:1.45}

/* cake */
.cake-wrap{display:flex;justify-content:center;margin-top:18px}
.cake{width:220px;height:160px;position:relative}
.cake .layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:18px}
.cake .layer.bottom{width:200px;height:70px;background:#6b2d2d;bottom:0;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
.cake .layer.middle{width:170px;height:56px;background:#ffb4b4;bottom:36px}
.cake .layer.top{width:130px;height:48px;background:#ffdede;bottom:74px}
.candle{position:absolute;left:50%;transform:translateX(-50%);bottom:120px;width:8px;height:32px;background:#ffee88;border-radius:3px}
.flame{position:absolute;left:50%;transform:translateX(-50%);bottom:150px;width:18px;height:22px;border-radius:50% 50% 40% 40%;background: radial-gradient(circle at 30% 30%, #fff176 0%, #ffb74d 40%, #ff7043 70%);animation: flicker 800ms infinite}
@keyframes flicker{0%{transform:translateX(-50%) scale(1)}50%{transform:translateX(-50%) scale(0.92)}100%{transform:translateX(-50%) scale(1)}}

/* photos panel */
.right{background:linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));padding:18px;border-left:1px solid rgba(255,255,255,0.02);display:flex;flex-direction:column;gap:12px}
.uploader{border:2px dashed rgba(255,255,255,0.04);padding:12px;border-radius:10px;text-align:center}
.uploader input{display:none}
.thumb{width:100%;height:260px;border-radius:10px;overflow:hidden;background:#071422;display:flex;align-items:center;justify-content:center}
.thumb img{max-width:100%;max-height:100%;object-fit:cover}
.controls{display:flex;gap:8px}
.controls button{flex:1;padding:10px;border-radius:10px;border:none;background:rgba(255,255,255,0.03);color:inherit;cursor:pointer}

/* final big wish */
.final{padding:22px;text-align:center;border-top:1px solid rgba(255,255,255,0.02)}
.final h2{margin:0;font-size:34px}
.final p{margin:8px 0 0;color:var(--muted)}

/* confetti canvas */
#confetti{position:absolute;inset:0;pointer-events:none}

footer{padding:10px 18px;text-align:center;color:var(--muted);font-size:13px}

  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <canvas id="confetti"></canvas>
      <header>
        <div class="logo">HB</div>
        <div class="title"><h1>Interactive Birthday Card</h1><p>Make it personal ‚Äî type her name and enjoy the surprise.</p></div>
        <div style="font-size:13px;color:var(--muted)">27 Sept celebration üéâ</div>
      </header><div class="body">
    <div class="left">
      <div class="input-row">
        <input id="nameInput" name="name" placeholder="Enter her name..." aria-label="Name input">
        <button id="start">Surprise!</button>
      </div>

      <div class="greeting" id="greetingArea">
        <div>
          <div class="greet-text" id="greetText">Type her name and press "Surprise!" ‚ú®</div>
          <div class="sub">Pro tip: Ask her to type her own name on the page for extra cuteness üòÑ</div>
        </div>
      </div>

      <div class="wish" id="wishBlock" style="display:none">
        <p id="wishText">‚Äî</p>
      </div>

      <div class="cake-wrap" id="cakeBlock" style="display:none">
        <div class="cake" aria-hidden>
          <div class="layer bottom"></div>
          <div class="layer middle"></div>
          <div class="layer top"></div>
          <div class="candle"></div>
          <div class="flame"></div>
        </div>
      </div>
    </div>

    <aside class="right">
      <div class="uploader">
        <label for="imagesInput" style="cursor:pointer">Click to choose photos (or drag & drop) <br><small>(select multiple)</small></label>
        <input id="imagesInput" type="file" accept="image/*" multiple>
      </div>

      <div class="thumb" id="thumb">
        <div style="text-align:center;color:var(--muted)">No photos yet ‚Äî add a few to make a slideshow</div>
      </div>

      <div class="controls">
        <button id="playBtn">Play Slideshow</button>
        <button id="stopBtn">Stop</button>
      </div>

      <div style="font-size:13px;color:var(--muted);">Tip: After uploading, press "Surprise!" and then "Play Slideshow"</div>
    </aside>
  </div>

  <div class="final" id="finalSection" style="display:none">
    <h2 id="finalTitle">Happy Birthday</h2>
    <p id="finalNote">Wishing you a day full of love, laughter & magic ‚Äî with all my heart ‚ù§Ô∏è</p>
  </div>

  <footer>Made with love ‚Äî Open this file in any browser. Customize the text or add music if you like.</footer>
</div>

  </div>  <script>
    // Elements
    const nameInput = document.getElementById('nameInput');
    const startBtn = document.getElementById('start');
    const greetText = document.getElementById('greetText');
    const wishBlock = document.getElementById('wishBlock');
    const wishText = document.getElementById('wishText');
    const cakeBlock = document.getElementById('cakeBlock');
    const finalSection = document.getElementById('finalSection');

    // Photos
    const imagesInput = document.getElementById('imagesInput');
    const thumb = document.getElementById('thumb');
    const playBtn = document.getElementById('playBtn');
    const stopBtn = document.getElementById('stopBtn');
    let images = [];
    let slideIndex = 0;
    let slideTimer = null;

    // Confetti canvas simple implementation
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');
    let confettis = [];
    function resizeCanvas(){confettiCanvas.width = confettiCanvas.offsetWidth; confettiCanvas.height = confettiCanvas.offsetHeight}
    window.addEventListener('resize', resizeCanvas); resizeCanvas();

    function spawnConfetti(){
      confettis = [];
      const colors = ['#ff6b6b','#ffd166','#6bcB77','#4dabf7','#c77dff'];
      for(let i=0;i<160;i++){
        confettis.push({x:Math.random()*confettiCanvas.width,y:Math.random()*-confettiCanvas.height,width:6+Math.random()*10,height:6+Math.random()*10,color:colors[Math.floor(Math.random()*colors.length)],vy:2+Math.random()*4,rotation:Math.random()*360,vr:Math.random()*6-3})
      }
    }
    function renderConfetti(){
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
      confettis.forEach((p)=>{
        p.y += p.vy; p.rotation += p.vr;
        ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rotation*Math.PI/180);
        ctx.fillStyle = p.color; ctx.fillRect(-p.width/2,-p.height/2,p.width,p.height); ctx.restore();
      })
      confettis = confettis.filter(p=>p.y < confettiCanvas.height + 40);
      if(confettis.length>0) requestAnimationFrame(renderConfetti);
    }

    // Surprise action
    startBtn.addEventListener('click', ()=>{
      const name = (nameInput.value || '').trim();
      const displayName = name || 'Heroine';
      greetText.innerHTML = `üéà Happy Birthday <span style="color:var(--accent)">${escapeHtml(displayName)}</span>!`;
      wishBlock.style.display = 'block';
      cakeBlock.style.display = 'flex';
      finalSection.style.display = 'block';

      // short romantic wish
      wishText.innerHTML = `Dear <strong>${escapeHtml(displayName)}</strong>, every moment with you is my favorite ‚Äî may your day be as bright and beautiful as your smile. I love you more than words can tell.`;

      // final big line
      document.getElementById('finalTitle').innerText = `Happy Birthday, ${displayName}!`;

      // confetti
      spawnConfetti(); renderConfetti();

      // tiny sparkle animation for title (simple text pulse)
      const ttl = document.querySelector('.greet-text');
      ttl.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}],{duration:1300,iterations:2});
    });

    // Escape HTML helper
    function escapeHtml(unsafe){return unsafe.replace(/[&<>"']/g, function(m){return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#039;"}[m];});}

    // Image uploader and slideshow
    imagesInput.addEventListener('change', (e)=>{
      const files = Array.from(e.target.files).slice(0,20); // limit
      if(files.length===0) return;
      images = [];
      const readers = files.map(f=>new Promise((res,rej)=>{
        const r = new FileReader(); r.onload = ()=>res(r.result); r.onerror = rej; r.readAsDataURL(f);
      }));
      Promise.all(readers).then(results=>{
        images = results;
        showThumb(0);
      });
    });

    function showThumb(i){
      if(!images.length){thumb.innerHTML = '<div style="text-align:center;color:var(--muted)">No photos yet ‚Äî add a few to make a slideshow</div>'; return}
      slideIndex = i % images.length;
      thumb.innerHTML = `<img src="${images[slideIndex]}" alt="photo ${slideIndex+1}">`;
    }

    playBtn.addEventListener('click', ()=>{
      if(!images.length) return alert('Please upload photos first.');
      if(slideTimer) clearInterval(slideTimer);
      showThumb(0);
      slideTimer = setInterval(()=>{
        slideIndex = (slideIndex+1)%images.length; showThumb(slideIndex);
      },2500);
    });
    stopBtn.addEventListener('click', ()=>{ if(slideTimer) clearInterval(slideTimer); slideTimer = null });

    // Drag & drop support
    const uploader = document.querySelector('.uploader');
    ['dragenter','dragover'].forEach(ev=>uploader.addEventListener(ev,e=>{e.preventDefault(); uploader.style.opacity=0.9}));
    ['dragleave','drop'].forEach(ev=>uploader.addEventListener(ev,e=>{e.preventDefault(); uploader.style.opacity=1}));
    uploader.addEventListener('drop', (e)=>{
      const dt = e.dataTransfer; if(!dt) return; const files = Array.from(dt.files).filter(f=>f.type.startsWith('image/'));
      if(files.length===0) return;
      const dataTransfer = new DataTransfer(); files.slice(0,20).forEach(f=>dataTransfer.items.add(f));
      imagesInput.files = dataTransfer.files;
      imagesInput.dispatchEvent(new Event('change'));
    });

    // small accessibility: press Enter in name input
    nameInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') startBtn.click(); });

    // Optional: pre-fill name for demo
    // nameInput.value = 'Aisha';

    // End: small note to user - allow saving as a static file
    // (No server required) ‚Äî just save as .html and open in browser.
  </script></body>
</html>
